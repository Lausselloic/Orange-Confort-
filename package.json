{
	"name": "orange-confort-plus",
	"description": "Enhance user experience on web sites",
	"version": "4.1.1",
	"homepage": "https://confort-plus.orange.com/",
	"author": "Orange SA",
	"config": {
		"author": "Orange SA",
		"description": "Enhance user experience on web sites"
	},
	"contributors": [
		"Orange SA"
	],
	"license": "GPL-2.0-only",
	"repository": {
		"type": "git",
		"url": "https://github.com/Orange-OpenSource/Orange-Confort-plus.git"
	},
	"bugs": {
		"url": "https://github.com/Orange-OpenSource/Orange-Confort-plus/issues"
	},
	"type": "module",
	"node": ">=14.16",
	"scripts": {
		"start": "concurrently --kill-others \"npm:watch\" \"npm:browser:test\"",
		"browser:test": "servor docs/ testpage.html 9010 --browse --reload",
		"start:docs": "concurrently --kill-others \"npm:watch\" \"npm:browser:docs\"",
		"browser:docs": "servor docs/ index.html 9010 --browse --reload",
		"test": "",
		"prebuild": "shx rm -rf dist/{serveur,WebExtension}/*",
		"build": "npm run copy && concurrently \"npm:build:*\"",
		"postbuild": "shx cp -r dist/serveur/{css,img,js} docs && terser dist/WebExtension/js/mask.js -o dist/WebExtension/js/mask.js -f \"preamble='/*\\n * $npm_package_name - version $npm_package_version - `date +%d-%m-%Y`\\n * $npm_package_config_description\\n * © 2014 - `date +%Y` $npm_package_config_author\\n*/'\"",
		"preversion": "npm run zip",
		"copy": "concurrently \"npm:copy:*\"",
		"copy:serveur": "shx cp -r src/*.txt dist/serveur/",
		"copy:extension": "shx cp -r src/{help,js} dist/WebExtension/ && shx cp -r src/WebExtension/js dist/WebExtension && shx cp -r src/WebExtension/manifest.*.json dist/",
		"copy:boosted:css": "shx cp -r node_modules/boosted/dist/css/{boosted,orange-helvetica}.min.css docs/css/",
		"copy:boosted:fonts": "shx cp -r node_modules/boosted/dist/fonts/HelvNeue{55,75}_W1G.woff2 docs/fonts/",
		"prebuild:js": "shx mkdir -p dist/serveur/js",
		"build:js": "terser src/serveur/hebergement.js src/js/fonts.js src/js/ToolbarStrings.js src/js/UciUserPref.js src/serveur/UciCookie.js src/js/lang-en.js src/js/lang-es.js src/js/lang-fr.js src/js/lang-pl.js src/js/UciAideMotrice.js src/js/UciCouleur.js src/js/UciApparence.js src/js/UciSettings.js src/js/UciTypographie.js src/js/UciValidation.js src/js/UciProfile.js src/js/UciIhm.js src/js/UciHelp.js src/js/mask.js src/js/toolbar.js src/serveur/start.js -o dist/serveur/js/toolbar.js --source-map -f \"preamble='/*\\n * $npm_package_name - version $npm_package_version - `date +%d-%m-%Y`\\n * $npm_package_config_description\\n * © 2014 - `date +%Y` $npm_package_config_author\\n*/'\"",
		"postbuild:js": "terser dist/serveur/js/toolbar.js -o dist/serveur/js/toolbar-min.js --source-map -c -m -f comments=true",
		"prebuild:css": "shx mkdir -p dist/WebExtension/css",
		"build:css": "postcss src/css/*.css --dir dist/serveur/css/ -m",
		"postbuild:css": "shx cp -r dist/serveur/css/*.css dist/WebExtension/css/",
		"build:html": "html-minifier-terser --file-ext html --input-dir src/ --output-dir docs/ --collapse-whitespace --conservative-collapse --remove-optional-tags --collapse-boolean-attributes --minify-js --minify-css --sort-attributes --sort-class-name",
		"build:img:docs": "imagemin docs/img/*.{png,jpg,gif,svg} --out-dir=docs/img --plugin=pngquant --plugin=mozjpeg --plugin=zopfli --plugin=svgo",
		"build:img:webext": "imagemin src/WebExtension/img/*.png --out-dir=dist/WebExtension/img --plugin=pngquant --plugin=zopfli",
		"build:img": "imagemin src/img/*.{png,jpg,gif} --out-dir=dist/serveur/img --plugin=pngquant --plugin=mozjpeg --plugin=zopfli --plugin=gifsicle",
		"postbuild:img": "shx cp -r src/img/*.{webp,mp4} dist/serveur/img/ && shx cp -r dist/serveur/img/* dist/WebExtension/img/",
		"build:fonts": "node build/woff2toBase64.js",
		"watch": "concurrently --kill-others \"npm:watch:*\"",
		"watch:html": "nodemon --watch src --ext html --exec \"npm run build:html\"",
		"watch:css": "nodemon --watch src/css --ext css --exec \"npm run build:css\"",
		"watch:img": "nodemon --watch src/img --watch src/WebExtension/img --ext png,gif,jpg --exec \"npm run build:img\"",
		"watch:js": "nodemon --watch src/js --ext js --exec \"npm run build:js\"",
		"watch:fonts": "nodemon --watch src/fonts --ext woff2 --exec \"npm run build:fonts\"",
		"zip": "npm run zip:firefox && npm run zip:chrome",
		"prezip:firefox": "shx cp dist/manifest.firefox.json dist/WebExtension/manifest.json",
		"zip:firefox": "web-ext build -s dist/WebExtension -a ./ -n $npm_package_name-$npm_package_version-firefox.zip -o",
		"prezip:chrome": "shx cp dist/manifest.chrome.json dist/WebExtension/manifest.json",
		"zip:chrome": "web-ext build -s dist/WebExtension -a ./ -n $npm_package_name-$npm_package_version-chrome.zip -o",
		"lint:ext": "web-ext lint -s $npm_package_name-$npm_package_version-firefox.zip",
		"start:firefox": "web-ext run --source-dir ./dist/WebExtension --browser-console"
	},
	"devDependencies": {
		"autoprefixer": "^10.4.13",
		"boosted": "^5.0.2",
		"concurrently": "^7.5.0",
		"cssnano": "^5.1.14",
		"globby": "^11.1.0",
		"html-minifier-terser": "^7.0.0",
		"imagemin-cli": "^7.0.0",
		"imagemin-gifsicle": "^7.0.0",
		"imagemin-mozjpeg": "^10.0.0",
		"imagemin-pngquant": "^9.0.2",
		"imagemin-svgo": "^10.0.1",
		"imagemin-zopfli": "^7.0.0",
		"nodemon": "^2.0.20",
		"postcss": "^8.4.18",
		"postcss-banner": "^4.0.1",
		"postcss-cli": "^10.0.0",
		"servor": "^4.0.2",
		"shx": "^0.3.4",
		"terser": "^5.16.0",
		"web-ext": "^7.5.0"
	}
}
